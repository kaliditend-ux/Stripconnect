<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StripConnect - Plateforme de Services</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #166088;
            --accent-color: #17a398;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --border-radius: 8px;
            --transition: all 0.3s ease;
        }

        .dark-theme {
            --primary-color: #5a7bb5;
            --secondary-color: #266098;
            --accent-color: #27b3a8;
            --light-color: #212529;
            --dark-color: #f8f9fa;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            --card-bg: #2c3034;
            --text-color: #e9ecef;
            --border-color: #495057;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light-color);
            color: var(--dark-color);
            transition: var(--transition);
            min-height: 100vh;
            display: flex;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        .container {
            display: flex;
            width: 100%;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            flex-direction: column;
            padding: 20px 0;
            position: fixed;
            height: 100vh;
            z-index: 100;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .logo {
            display: flex;
            align-items: center;
            padding: 0 20px 20px;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo i {
            font-size: 28px;
            margin-right: 10px;
            color: var(--accent-color);
        }

        .logo h1 {
            font-size: 22px;
            font-weight: 700;
        }

        .nav-menu {
            list-style: none;
            flex-grow: 1;
        }

        .nav-item {
            padding: 15px 20px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .nav-item:hover, .nav-item.active {
            background-color: rgba(255, 255, 255, 0.1);
            border-left: 4px solid var(--accent-color);
        }

        .nav-item i {
            font-size: 18px;
            margin-right: 15px;
            width: 24px;
            text-align: center;
        }

        .nav-text {
            font-size: 16px;
            font-weight: 500;
        }

        .theme-toggle {
            padding: 15px 20px;
            display: flex;
            align-items: center;
            cursor: pointer;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .theme-toggle i {
            margin-right: 15px;
            font-size: 18px;
        }

        /* Main content */
        .main-content {
            flex-grow: 1;
            margin-left: 250px;
            padding: 20px;
            transition: var(--transition);
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .search-bar {
            flex-grow: 1;
            max-width: 500px;
            display: flex;
            background-color: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .search-bar input {
            flex-grow: 1;
            padding: 12px 15px;
            border: none;
            outline: none;
            font-size: 16px;
        }

        .search-bar button {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 0 20px;
            cursor: pointer;
            font-size: 16px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        /* Page content */
        .page-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Home page */
        .hero-section {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 40px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            text-align: center;
        }

        .hero-section h2 {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .hero-section p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 25px;
            line-height: 1.6;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .service-card {
            background-color: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .dark-theme .service-card {
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }

        .service-img {
            height: 180px;
            background-color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 60px;
        }

        .service-info {
            padding: 20px;
        }

        .service-info h3 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .service-info p {
            margin-bottom: 15px;
            color: #666;
        }

        .dark-theme .service-info p {
            color: #ccc;
        }

        .service-price {
            font-weight: bold;
            color: var(--accent-color);
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: block;
        }

        /* Forms */
        .form-container {
            max-width: 500px;
            margin: 0 auto;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 30px;
        }

        .dark-theme .form-container {
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        .form-title {
            text-align: center;
            margin-bottom: 25px;
            color: var(--primary-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: var(--transition);
        }

        .dark-theme .form-group input, 
        .dark-theme .form-group select, 
        .dark-theme .form-group textarea {
            background-color: #3a3f44;
            border-color: var(--border-color);
            color: var(--text-color);
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .btn {
            display: inline-block;
            padding: 12px 25px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: var(--transition);
            text-align: center;
        }

        .btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .btn-accent {
            background-color: var(--accent-color);
        }

        .btn-accent:hover {
            background-color: #138a80;
        }

        .btn-block {
            width: 100%;
        }

        .form-footer {
            text-align: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .dark-theme .form-footer {
            border-top-color: var(--border-color);
        }

        .social-login {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .social-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 10px 20px;
            border-radius: var(--border-radius);
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: var(--transition);
        }

        .dark-theme .social-btn {
            background-color: #3a3f44;
            border-color: var(--border-color);
            color: var(--text-color);
        }

        .social-btn:hover {
            background-color: #e9ecef;
        }

        .dark-theme .social-btn:hover {
            background-color: #495057;
        }

        /* Map */
        #map {
            height: 400px;
            border-radius: var(--border-radius);
            margin-top: 20px;
            box-shadow: var(--shadow);
        }

        /* Chat */
        .chat-container {
            display: flex;
            height: 500px;
            background-color: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .dark-theme .chat-container {
            background-color: var(--card-bg);
        }

        .chat-sidebar {
            width: 300px;
            border-right: 1px solid #eee;
            display: flex;
            flex-direction: column;
        }

        .dark-theme .chat-sidebar {
            border-right-color: var(--border-color);
        }

        .chat-list {
            flex-grow: 1;
            overflow-y: auto;
        }

        .chat-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: var(--transition);
        }

        .dark-theme .chat-item {
            border-bottom-color: var(--border-color);
        }

        .chat-item:hover, .chat-item.active {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .dark-theme .chat-item:hover, .dark-theme .chat-item.active {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .chat-main {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            padding: 15px;
            border-bottom: 1px solid #eee;
            font-weight: 500;
        }

        .dark-theme .chat-header {
            border-bottom-color: var(--border-color);
        }

        .chat-messages {
            flex-grow: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 70%;
            padding: 12px 15px;
            border-radius: 18px;
            word-wrap: break-word;
        }

        .message-sent {
            align-self: flex-end;
            background-color: var(--accent-color);
            color: white;
            border-bottom-right-radius: 5px;
        }

        .message-received {
            align-self: flex-start;
            background-color: #e9ecef;
            color: var(--dark-color);
            border-bottom-left-radius: 5px;
        }

        .dark-theme .message-received {
            background-color: #495057;
            color: var(--text-color);
        }

        .chat-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid #eee;
        }

        .dark-theme .chat-input {
            border-top-color: var(--border-color);
        }

        .chat-input input {
            flex-grow: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            margin-right: 10px;
        }

        /* Dashboard */
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
        }

        .dark-theme .stat-card {
            background-color: var(--card-bg);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: white;
            font-size: 24px;
        }

        .stat-info h3 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .stat-info p {
            color: #666;
        }

        .dark-theme .stat-info p {
            color: #ccc;
        }

        /* Tables */
        .table-responsive {
            overflow-x: auto;
            margin-top: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            box-shadow: var(--shadow);
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .dark-theme table {
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .dark-theme th, .dark-theme td {
            border-bottom-color: var(--border-color);
        }

        th {
            background-color: var(--primary-color);
            color: white;
        }

        /* Settings */
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .setting-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
        }

        .dark-theme .setting-card {
            background-color: var(--card-bg);
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }

        .dark-theme .setting-item {
            border-bottom-color: var(--border-color);
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--accent-color);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Mobile responsiveness */
        @media (max-width: 992px) {
            .sidebar {
                width: 70px;
                overflow: hidden;
            }
            
            .sidebar:hover {
                width: 250px;
            }
            
            .nav-text, .logo h1, .theme-toggle span {
                opacity: 0;
                transition: opacity 0.3s ease;
            }
            
            .sidebar:hover .nav-text,
            .sidebar:hover .logo h1,
            .sidebar:hover .theme-toggle span {
                opacity: 1;
            }
            
            .main-content {
                margin-left: 70px;
            }
            
            .sidebar:hover ~ .main-content {
                margin-left: 250px;
            }
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-bar {
                max-width: 100%;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .chat-container {
                flex-direction: column;
                height: 600px;
            }
            
            .chat-sidebar {
                width: 100%;
                height: 200px;
                border-right: none;
                border-bottom: 1px solid #eee;
            }
            
            .dashboard-stats {
                grid-template-columns: 1fr;
            }
        }

        /* Utilities */
        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        .mb-20 {
            margin-bottom: 20px;
        }

        .mt-20 {
            margin-top: 20px;
        }

        .mb-30 {
            margin-bottom: 30px;
        }

        .p-20 {
            padding: 20px;
        }

        .alert {
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
        }

        .alert-success {
            background-color: rgba(40, 167, 69, 0.2);
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-error {
            background-color: rgba(220, 53, 69, 0.2);
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <i class="fas fa-handshake"></i>
                <h1>StripConnect</h1>
            </div>
            
            <ul class="nav-menu">
                <li class="nav-item active" data-page="home">
                    <i class="fas fa-home"></i>
                    <span class="nav-text">Accueil</span>
                </li>
                <li class="nav-item" data-page="services">
                    <i class="fas fa-briefcase"></i>
                    <span class="nav-text">Services</span>
                </li>
                <li class="nav-item" data-page="messages">
                    <i class="fas fa-comments"></i>
                    <span class="nav-text">Messagerie</span>
                </li>
                <li class="nav-item" data-page="bookings">
                    <i class="fas fa-calendar-check"></i>
                    <span class="nav-text">Réservations</span>
                </li>
                <li class="nav-item" data-page="payments">
                    <i class="fas fa-credit-card"></i>
                    <span class="nav-text">Paiements</span>
                </li>
                <li class="nav-item" data-page="dashboard">
                    <i class="fas fa-chart-line"></i>
                    <span class="nav-text">Dashboard</span>
                </li>
                <li class="nav-item" data-page="account">
                    <i class="fas fa-user-circle"></i>
                    <span class="nav-text">Mon Compte</span>
                </li>
                <li class="nav-item" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span class="nav-text">Paramètres</span>
                </li>
            </ul>
            
            <div class="theme-toggle">
                <i class="fas fa-moon"></i>
                <span>Thème sombre</span>
            </div>
        </div>
        
        <!-- Main content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <div class="search-bar">
                    <input type="text" placeholder="Rechercher un service...">
                    <button><i class="fas fa-search"></i></button>
                </div>
                
                <div class="user-info">
                    <div class="user-avatar">JD</div>
                    <div>
                        <div class="user-name">Jean Dupont</div>
                        <div class="user-role">Client</div>
                    </div>
                </div>
            </div>
            
            <!-- Page content -->
            <div id="home" class="page-content active">
                <div class="hero-section">
                    <h2>Bienvenue sur StripConnect</h2>
                    <p>La plateforme qui connecte prestataires et clients pour des services de qualité. Trouvez le service dont vous avez besoin ou proposez vos compétences.</p>
                    <button class="btn btn-accent">Découvrir nos services</button>
                </div>
                
                <h2 class="mb-20">Services populaires</h2>
                <div class="services-grid" id="services-container">
                    <!-- Services will be loaded here via JS -->
                </div>
                
                <h2 class="mt-20 mb-20">Localisation</h2>
                <div id="map"></div>
            </div>
            
            <!-- Services page -->
            <div id="services" class="page-content">
                <h2>Publier un service</h2>
                <div class="form-container mt-20">
                    <form id="service-form">
                        <div class="form-group">
                            <label for="service-title">Titre du service</label>
                            <input type="text" id="service-title" placeholder="Ex: Cours de piano à domicile" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="service-category">Catégorie</label>
                            <select id="service-category" required>
                                <option value="">Sélectionnez une catégorie</option>
                                <option value="enseignement">Enseignement</option>
                                <option value="reparation">Réparation</option>
                                <option value="menage">Ménage</option>
                                <option value="jardinage">Jardinage</option>
                                <option value="informatique">Informatique</option>
                                <option value="sante">Santé & Bien-être</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="service-description">Description</label>
                            <textarea id="service-description" rows="4" placeholder="Décrivez votre service en détail..." required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="service-price">Prix (€)</label>
                            <input type="number" id="service-price" min="0" step="0.01" required>
                        </div>
                        
                        <button type="submit" class="btn btn-accent btn-block">Publier le service</button>
                    </form>
                </div>
                
                <h2 class="mt-20">Mes services publiés</h2>
                <div class="table-responsive mt-20">
                    <table id="my-services-table">
                        <thead>
                            <tr>
                                <th>Titre</th>
                                <th>Catégorie</th>
                                <th>Prix</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Services will be loaded here via JS -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Messages page -->
            <div id="messages" class="page-content">
                <h2>Messagerie</h2>
                <div class="chat-container mt-20">
                    <div class="chat-sidebar">
                        <div class="p-20">
                            <input type="text" placeholder="Rechercher une conversation..." class="form-control">
                        </div>
                        <div class="chat-list" id="chat-list">
                            <!-- Chat list will be loaded here via JS -->
                        </div>
                    </div>
                    
                    <div class="chat-main">
                        <div class="chat-header" id="chat-header">
                            Sélectionnez une conversation
                        </div>
                        <div class="chat-messages" id="chat-messages">
                            <!-- Messages will be loaded here via JS -->
                        </div>
                        <div class="chat-input">
                            <input type="text" placeholder="Tapez votre message..." id="message-input" disabled>
                            <button class="btn btn-accent" id="send-message" disabled>Envoyer</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Bookings page -->
            <div id="bookings" class="page-content">
                <h2>Gestion des réservations</h2>
                <div class="table-responsive mt-20">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Service</th>
                                <th>Client</th>
                                <th>Date</th>
                                <th>Heure</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="bookings-table">
                            <!-- Bookings will be loaded here via JS -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Payments page -->
            <div id="payments" class="page-content">
                <h2>Paiements</h2>
                <div class="alert alert-success">
                    <i class="fas fa-info-circle"></i> StripeConnect intègre les paiements via M-Pesa et Orange Money pour une expérience simplifiée.
                </div>
                
                <div class="settings-grid mt-20">
                    <div class="setting-card">
                        <h3 class="mb-20">Méthodes de paiement</h3>
                        <div class="setting-item">
                            <span>M-Pesa</span>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <span>Orange Money</span>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <span>Carte bancaire</span>
                            <label class="toggle-switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="setting-card">
                        <h3 class="mb-20">Effectuer un paiement</h3>
                        <form id="payment-form">
                            <div class="form-group">
                                <label for="payment-amount">Montant (€)</label>
                                <input type="number" id="payment-amount" min="1" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="payment-method">Méthode de paiement</label>
                                <select id="payment-method" required>
                                    <option value="">Sélectionnez</option>
                                    <option value="mpesa">M-Pesa</option>
                                    <option value="orange">Orange Money</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="phone-number">Numéro de téléphone</label>
                                <input type="tel" id="phone-number" placeholder="+33 6 12 34 56 78" required>
                            </div>
                            
                            <button type="submit" class="btn btn-accent btn-block">Payer maintenant</button>
                        </form>
                    </div>
                </div>
                
                <h2 class="mt-20">Historique des paiements</h2>
                <div class="table-responsive mt-20">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Date</th>
                                <th>Service</th>
                                <th>Montant</th>
                                <th>Méthode</th>
                                <th>Statut</th>
                            </tr>
                        </thead>
                        <tbody id="payments-history">
                            <!-- Payments history will be loaded here via JS -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Dashboard page -->
            <div id="dashboard" class="page-content">
                <h2>Tableau de bord prestataire</h2>
                
                <div class="dashboard-stats mt-20">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="services-count">0</h3>
                            <p>Services actifs</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="bookings-count">0</h3>
                            <p>Réservations</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-comments"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="messages-count">0</h3>
                            <p>Messages</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-euro-sign"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="revenue-count">0€</h3>
                            <p>Revenus</p>
                        </div>
                    </div>
                </div>
                
                <h2 class="mt-20">Statistiques récentes</h2>
                <div class="table-responsive mt-20">
                    <table>
                        <thead>
                            <tr>
                                <th>Période</th>
                                <th>Vues de profil</th>
                                <th>Nouvelles réservations</th>
                                <th>Revenus</th>
                                <th>Taux de réponse</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Cette semaine</td>
                                <td>124</td>
                                <td>8</td>
                                <td>420€</td>
                                <td>95%</td>
                            </tr>
                            <tr>
                                <td>Ce mois</td>
                                <td>512</td>
                                <td>24</td>
                                <td>1,250€</td>
                                <td>92%</td>
                            </tr>
                            <tr>
                                <td>Ce trimestre</td>
                                <td>1,845</td>
                                <td>78</td>
                                <td>3,840€</td>
                                <td>94%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Account page -->
            <div id="account" class="page-content">
                <h2>Mon Compte</h2>
                
                <div class="settings-grid mt-20">
                    <div class="setting-card">
                        <h3 class="mb-20">Informations personnelles</h3>
                        <form id="profile-form">
                            <div class="form-group">
                                <label for="profile-name">Nom complet</label>
                                <input type="text" id="profile-name" value="Jean Dupont" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="profile-email">Email</label>
                                <input type="email" id="profile-email" value="jean.dupont@example.com" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="profile-phone">Téléphone</label>
                                <input type="tel" id="profile-phone" value="+33 6 12 34 56 78" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="profile-address">Adresse</label>
                                <input type="text" id="profile-address" value="123 Rue de Paris, 75001 Paris">
                            </div>
                            
                            <button type="submit" class="btn btn-accent btn-block">Mettre à jour</button>
                        </form>
                    </div>
                    
                    <div class="setting-card">
                        <h3 class="mb-20">Sécurité</h3>
                        <form id="security-form">
                            <div class="form-group">
                                <label for="current-password">Mot de passe actuel</label>
                                <input type="password" id="current-password">
                            </div>
                            
                            <div class="form-group">
                                <label for="new-password">Nouveau mot de passe</label>
                                <input type="password" id="new-password">
                            </div>
                            
                            <div class="form-group">
                                <label for="confirm-password">Confirmer le nouveau mot de passe</label>
                                <input type="password" id="confirm-password">
                            </div>
                            
                            <button type="submit" class="btn btn-accent btn-block">Changer le mot de passe</button>
                        </form>
                        
                        <div class="form-footer mt-20">
                            <p>Mot de passe oublié ? <a href="#" id="forgot-password">Cliquez ici</a></p>
                        </div>
                    </div>
                </div>
                
                <div class="setting-card mt-20">
                    <h3 class="mb-20">Connexion avec Google</h3>
                    <div class="social-login">
                        <div class="social-btn">
                            <i class="fab fa-google"></i>
                            <span>Connecter avec Google</span>
                        </div>
                    </div>
                    <p class="mt-20 text-center">Vous pouvez vous connecter avec votre compte Google ou avec votre numéro de téléphone.</p>
                </div>
            </div>
            
            <!-- Settings page -->
            <div id="settings" class="page-content">
                <h2>Paramètres</h2>
                
                <div class="settings-grid mt-20">
                    <div class="setting-card">
                        <h3 class="mb-20">Notifications</h3>
                        <div class="setting-item">
                            <span>Notifications par email</span>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <span>Notifications SMS</span>
                            <label class="toggle-switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <span>Notifications push</span>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="setting-card">
                        <h3 class="mb-20">Confidentialité</h3>
                        <div class="setting-item">
                            <span>Profil public</span>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <span>Montrer l'email</span>
                            <label class="toggle-switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <span>Montrer le téléphone</span>
                            <label class="toggle-switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="setting-card">
                        <h3 class="mb-20">Préférences</h3>
                        <div class="setting-item">
                            <span>Langue</span>
                            <select>
                                <option>Français</option>
                                <option>English</option>
                                <option>Español</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <span>Devise</span>
                            <select>
                                <option>Euro (€)</option>
                                <option>Dollar ($)</option>
                                <option>Livre (£)</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <span>Fuseau horaire</span>
                            <select>
                                <option>Europe/Paris</option>
                                <option>UTC</option>
                                <option>America/New_York</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="setting-card mt-20">
                    <h3 class="mb-20">Protection des données</h3>
                    <p>StripConnect s'engage à protéger vos données personnelles conformément au RGPD.</p>
                    <div class="mt-20">
                        <button class="btn mb-20">Télécharger mes données</button>
                        <button class="btn btn-accent">Supprimer mon compte</button>
                    </div>
                </div>
            </div>
            
            <!-- Authentication modal -->
            <div id="auth-modal" class="hidden">
                <div class="form-container" style="max-width: 400px; margin: 50px auto;">
                    <h2 class="form-title">Connexion / Inscription</h2>
                    
                    <div class="social-login">
                        <div class="social-btn" id="google-login">
                            <i class="fab fa-google"></i>
                            <span>Continuer avec Google</span>
                        </div>
                    </div>
                    
                    <div class="form-footer">
                        <p>Ou utilisez votre numéro de téléphone</p>
                    </div>
                    
                    <form id="phone-auth-form">
                        <div class="form-group">
                            <label for="auth-phone">Numéro de téléphone</label>
                            <input type="tel" id="auth-phone" placeholder="+33 6 12 34 56 78" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="auth-password">Mot de passe</label>
                            <input type="password" id="auth-password" placeholder="Votre mot de passe">
                        </div>
                        
                        <button type="submit" class="btn btn-accent btn-block" id="auth-submit">Se connecter</button>
                    </form>
                    
                    <div class="form-footer">
                        <p>Nouveau sur StripConnect ? <a href="#" id="switch-to-register">Créer un compte</a></p>
                        <p><a href="#" id="forgot-password-link">Mot de passe oublié ?</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Données initiales
        let services = [
            { id: 1, title: "Cours de piano", category: "enseignement", description: "Cours de piano pour tous niveaux à domicile.", price: 30, provider: "Marie Lambert" },
            { id: 2, title: "Réparation électrique", category: "reparation", description: "Dépannage électrique résidentiel.", price: 50, provider: "Thomas Moreau" },
            { id: 3, title: "Nettoyage de maison", category: "menage", description: "Service de ménage complet pour votre domicile.", price: 25, provider: "Sophie Dubois" },
            { id: 4, title: "Cours de yoga", category: "sante", description: "Séances de yoga en ligne ou à domicile.", price: 20, provider: "Lisa Chen" },
            { id: 5, title: "Jardinage paysager", category: "jardinage", description: "Entretien et aménagement de jardins.", price: 45, provider: "Pierre Lefevre" },
            { id: 6, title: "Dépannage informatique", category: "informatique", description: "Aide pour vos problèmes informatiques à distance.", price: 35, provider: "Alexandre Martin" }
        ];

        let myServices = [
            { id: 101, title: "Cours de mathématiques", category: "enseignement", price: 25, status: "Actif" },
            { id: 102, title: "Réparation vélo", category: "reparation", price: 40, status: "Actif" }
        ];

        let bookings = [
            { id: 1001, service: "Cours de piano", client: "Julie Bernard", date: "2023-10-15", time: "14:00", status: "Confirmée" },
            { id: 1002, service: "Nettoyage de maison", client: "Marc Petit", date: "2023-10-18", time: "10:00", status: "En attente" },
            { id: 1003, service: "Dépannage informatique", client: "Emma Laurent", date: "2023-10-20", time: "16:30", status: "Annulée" }
        ];

        let payments = [
            { id: 2001, date: "2023-10-10", service: "Cours de piano", amount: 30, method: "M-Pesa", status: "Payé" },
            { id: 2002, date: "2023-10-05", service: "Réparation électrique", amount: 50, method: "Orange Money", status: "Payé" },
            { id: 2003, date: "2023-09-28", service: "Nettoyage de maison", amount: 25, method: "M-Pesa", status: "Échoué" }
        ];

        let messages = [
            { id: 1, name: "Marie Lambert", lastMessage: "Bonjour, je suis intéressée par votre service...", unread: 2 },
            { id: 2, name: "Thomas Moreau", lastMessage: "Merci pour votre réservation !", unread: 0 },
            { id: 3, name: "Sophie Dubois", lastMessage: "Pouvons-nous décaler le rendez-vous ?", unread: 1 }
        ];

        let chatMessages = {
            1: [
                { sender: "them", text: "Bonjour, je suis intéressée par votre service de cours de mathématiques.", time: "10:30" },
                { sender: "me", text: "Bonjour ! Je serais ravi de vous aider. Quel est votre niveau ?", time: "10:35" },
                { sender: "them", text: "Je suis en terminale et j'ai des difficultés avec les probabilités.", time: "10:40" }
            ],
            2: [
                { sender: "them", text: "Merci pour votre réservation !", time: "Hier, 14:20" },
                { sender: "me", text: "Avec plaisir ! Je me réjouis de notre collaboration.", time: "Hier, 14:25" }
            ],
            3: [
                { sender: "them", text: "Pouvons-nous décaler le rendez-vous de 30 minutes ?", time: "Aujourd'hui, 09:15" }
            ]
        };

        // Variables d'état
        let currentTheme = 'light';
        let currentPage = 'home';
        let currentChat = null;
        let isLoggedIn = true;

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            // Initialiser la carte
            initMap();
            
            // Charger les services
            loadServices();
            loadMyServices();
            loadBookings();
            loadPayments();
            loadChatList();
            updateDashboardStats();
            
            // Gestionnaires d'événements pour la navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    const page = this.getAttribute('data-page');
                    switchPage(page);
                });
            });
            
            // Gestionnaire pour le thème
            document.querySelector('.theme-toggle').addEventListener('click', toggleTheme);
            
            // Gestionnaire pour la recherche
            document.querySelector('.search-bar button').addEventListener('click', performSearch);
            document.querySelector('.search-bar input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') performSearch();
            });
            
            // Gestionnaire pour le formulaire de service
            document.getElementById('service-form').addEventListener('submit', function(e) {
                e.preventDefault();
                addNewService();
            });
            
            // Gestionnaire pour le formulaire de paiement
            document.getElementById('payment-form').addEventListener('submit', function(e) {
                e.preventDefault();
                processPayment();
            });
            
            // Gestionnaire pour le formulaire de profil
            document.getElementById('profile-form').addEventListener('submit', function(e) {
                e.preventDefault();
                updateProfile();
            });
            
            // Gestionnaire pour le formulaire de sécurité
            document.getElementById('security-form').addEventListener('submit', function(e) {
                e.preventDefault();
                changePassword();
            });
            
            // Gestionnaire pour l'authentification
            document.getElementById('phone-auth-form').addEventListener('submit', function(e) {
                e.preventDefault();
                authenticateUser();
            });
            
            // Gestionnaire pour la connexion Google
            document.getElementById('google-login').addEventListener('click', function() {
                alert('Redirection vers la page de connexion Google...');
            });
            
            // Gestionnaire pour envoyer un message
            document.getElementById('send-message').addEventListener('click', sendMessage);
            document.getElementById('message-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') sendMessage();
            });
            
            // Initialiser la page active
            switchPage('home');
            
            // Si l'utilisateur n'est pas connecté, afficher la modale d'authentification
            if (!isLoggedIn) {
                document.getElementById('auth-modal').classList.remove('hidden');
            }
        });

        // Fonctions principales
        function switchPage(page) {
            // Mettre à jour la navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-page') === page) {
                    item.classList.add('active');
                }
            });
            
            // Masquer toutes les pages
            document.querySelectorAll('.page-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Afficher la page sélectionnée
            document.getElementById(page).classList.add('active');
            currentPage = page;
            
            // Mettre à jour le titre de la page
            const pageTitles = {
                'home': 'Accueil',
                'services': 'Services',
                'messages': 'Messagerie',
                'bookings': 'Réservations',
                'payments': 'Paiements',
                'dashboard': 'Dashboard',
                'account': 'Mon Compte',
                'settings': 'Paramètres'
            };
            
            // Mettre à jour les stats du dashboard si nécessaire
            if (page === 'dashboard') {
                updateDashboardStats();
            }
        }

        function toggleTheme() {
            if (currentTheme === 'light') {
                document.body.classList.add('dark-theme');
                document.querySelector('.theme-toggle i').classList.remove('fa-moon');
                document.querySelector('.theme-toggle i').classList.add('fa-sun');
                document.querySelector('.theme-toggle span').textContent = 'Thème clair';
                currentTheme = 'dark';
            } else {
                document.body.classList.remove('dark-theme');
                document.querySelector('.theme-toggle i').classList.remove('fa-sun');
                document.querySelector('.theme-toggle i').classList.add('fa-moon');
                document.querySelector('.theme-toggle span').textContent = 'Thème sombre';
                currentTheme = 'light';
            }
            
            // Sauvegarder la préférence
            localStorage.setItem('stripconnect-theme', currentTheme);
        }

        function initMap() {
            // Initialiser la carte Leaflet
            const map = L.map('map').setView([48.8566, 2.3522], 12);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);
            
            // Ajouter des marqueurs pour les services
            const markers = [
                { lat: 48.8566, lng: 2.3522, title: "Cours de piano" },
                { lat: 48.8584, lng: 2.2945, title: "Réparation électrique" },
                { lat: 48.8606, lng: 2.3376, title: "Nettoyage de maison" },
                { lat: 48.8534, lng: 2.3488, title: "Cours de yoga" },
                { lat: 48.8667, lng: 2.3333, title: "Jardinage paysager" },
                { lat: 48.8792, lng: 2.3292, title: "Dépannage informatique" }
            ];
            
            markers.forEach(marker => {
                L.marker([marker.lat, marker.lng])
                    .addTo(map)
                    .bindPopup(`<b>${marker.title}</b><br>Service disponible`);
            });
        }

        function loadServices() {
            const container = document.getElementById('services-container');
            container.innerHTML = '';
            
            services.forEach(service => {
                const serviceCard = document.createElement('div');
                serviceCard.className = 'service-card';
                serviceCard.innerHTML = `
                    <div class="service-img">
                        <i class="fas ${getServiceIcon(service.category)}"></i>
                    </div>
                    <div class="service-info">
                        <h3>${service.title}</h3>
                        <p>${service.description}</p>
                        <span class="service-price">${service.price}€/h</span>
                        <p><i class="fas fa-user"></i> ${service.provider}</p>
                        <button class="btn btn-accent" onclick="bookService(${service.id})">Réserver</button>
                    </div>
                `;
                container.appendChild(serviceCard);
            });
        }

        function loadMyServices() {
            const tbody = document.querySelector('#my-services-table tbody');
            tbody.innerHTML = '';
            
            myServices.forEach(service => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${service.title}</td>
                    <td>${service.category}</td>
                    <td>${service.price}€</td>
                    <td><span class="status-badge">${service.status}</span></td>
                    <td>
                        <button class="btn" onclick="editService(${service.id})">Modifier</button>
                        <button class="btn btn-accent" onclick="deleteService(${service.id})">Supprimer</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadBookings() {
            const tbody = document.getElementById('bookings-table');
            tbody.innerHTML = '';
            
            bookings.forEach(booking => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>#${booking.id}</td>
                    <td>${booking.service}</td>
                    <td>${booking.client}</td>
                    <td>${booking.date}</td>
                    <td>${booking.time}</td>
                    <td><span class="status-badge ${getStatusClass(booking.status)}">${booking.status}</span></td>
                    <td>
                        <button class="btn" onclick="viewBooking(${booking.id})">Voir</button>
                        <button class="btn btn-accent" onclick="confirmBooking(${booking.id})">Confirmer</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadPayments() {
            const tbody = document.getElementById('payments-history');
            tbody.innerHTML = '';
            
            payments.forEach(payment => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>#${payment.id}</td>
                    <td>${payment.date}</td>
                    <td>${payment.service}</td>
                    <td>${payment.amount}€</td>
                    <td>${payment.method}</td>
                    <td><span class="status-badge ${getStatusClass(payment.status)}">${payment.status}</span></td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadChatList() {
            const container = document.getElementById('chat-list');
            container.innerHTML = '';
            
            messages.forEach(message => {
                const chatItem = document.createElement('div');
                chatItem.className = 'chat-item';
                chatItem.setAttribute('data-chat-id', message.id);
                chatItem.innerHTML = `
                    <div style="display: flex; align-items: center;">
                        <div class="user-avatar" style="margin-right: 10px;">${message.name.charAt(0)}</div>
                        <div>
                            <div style="font-weight: 500;">${message.name}</div>
                            <div style="font-size: 0.9em; color: #666;">${message.lastMessage}</div>
                        </div>
                        ${message.unread > 0 ? `<span style="margin-left: auto; background-color: var(--accent-color); color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 0.8em;">${message.unread}</span>` : ''}
                    </div>
                `;
                
                chatItem.addEventListener('click', function() {
                    openChat(message.id, message.name);
                });
                
                container.appendChild(chatItem);
            });
        }

        function openChat(chatId, userName) {
            currentChat = chatId;
            
            // Mettre à jour l'en-tête du chat
            document.getElementById('chat-header').textContent = `Conversation avec ${userName}`;
            
            // Activer la zone de saisie
            document.getElementById('message-input').disabled = false;
            document.getElementById('send-message').disabled = false;
            
            // Charger les messages
            const container = document.getElementById('chat-messages');
            container.innerHTML = '';
            
            if (chatMessages[chatId]) {
                chatMessages[chatId].forEach(msg => {
                    const messageDiv = document.createElement('div');
                    messageDiv.className = `message ${msg.sender === 'me' ? 'message-sent' : 'message-received'}`;
                    messageDiv.innerHTML = `
                        <div>${msg.text}</div>
                        <div style="font-size: 0.8em; text-align: ${msg.sender === 'me' ? 'right' : 'left'}; margin-top: 5px;">${msg.time}</div>
                    `;
                    container.appendChild(messageDiv);
                });
            }
            
            // Faire défiler vers le bas
            container.scrollTop = container.scrollHeight;
            
            // Marquer comme lu
            const chatItem = document.querySelector(`.chat-item[data-chat-id="${chatId}"]`);
            if (chatItem) {
                chatItem.querySelector('span')?.remove();
            }
        }

        function sendMessage() {
            const input = document.getElementById('message-input');
            const text = input.value.trim();
            
            if (!text || !currentChat) return;
            
            // Ajouter le message à l'interface
            const container = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message message-sent';
            
            const now = new Date();
            const timeString = `${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
            
            messageDiv.innerHTML = `
                <div>${text}</div>
                <div style="font-size: 0.8em; text-align: right; margin-top: 5px;">${timeString}</div>
            `;
            container.appendChild(messageDiv);
            
            // Ajouter le message aux données
            if (!chatMessages[currentChat]) {
                chatMessages[currentChat] = [];
            }
            chatMessages[currentChat].push({
                sender: 'me',
                text: text,
                time: timeString
            });
            
            // Effacer le champ de saisie
            input.value = '';
            
            // Faire défiler vers le bas
            container.scrollTop = container.scrollHeight;
            
            // Simuler une réponse automatique après un délai
            setTimeout(() => {
                const responses = [
                    "Merci pour votre message !",
                    "Je vous répondrai dans les plus brefs délais.",
                    "Pouvez-vous me donner plus de détails ?",
                    "C'est noté, je reviens vers vous rapidement."
                ];
                
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                
                const responseDiv = document.createElement('div');
                responseDiv.className = 'message message-received';
                responseDiv.innerHTML = `
                    <div>${randomResponse}</div>
                    <div style="font-size: 0.8em; text-align: left; margin-top: 5px;">${timeString}</div>
                `;
                container.appendChild(responseDiv);
                
                // Ajouter aux données
                chatMessages[currentChat].push({
                    sender: 'them',
                    text: randomResponse,
                    time: timeString
                });
                
                // Faire défiler vers le bas
                container.scrollTop = container.scrollHeight;
            }, 1000);
        }

        function addNewService() {
            const title = document.getElementById('service-title').value;
            const category = document.getElementById('service-category').value;
            const description = document.getElementById('service-description').value;
            const price = document.getElementById('service-price').value;
            
            // Créer un nouvel ID
            const newId = myServices.length > 0 ? Math.max(...myServices.map(s => s.id)) + 1 : 1;
            
            // Ajouter le service
            myServices.push({
                id: newId,
                title: title,
                category: category,
                price: parseFloat(price),
                status: "Actif"
            });
            
            // Recharger la liste
            loadMyServices();
            
            // Réinitialiser le formulaire
            document.getElementById('service-form').reset();
            
            // Afficher un message de confirmation
            alert('Service publié avec succès !');
            
            // Mettre à jour le dashboard
            updateDashboardStats();
        }

        function processPayment() {
            const amount = document.getElementById('payment-amount').value;
            const method = document.getElementById('payment-method').value;
            const phone = document.getElementById('phone-number').value;
            
            if (!amount || !method || !phone) {
                alert('Veuillez remplir tous les champs');
                return;
            }
            
            // Simuler un traitement de paiement
            const paymentId = payments.length > 0 ? Math.max(...payments.map(p => p.id)) + 1 : 1;
            const status = Math.random() > 0.2 ? 'Payé' : 'Échoué';
            
            // Ajouter au historique
            payments.unshift({
                id: paymentId,
                date: new Date().toISOString().split('T')[0],
                service: "Service personnalisé",
                amount: parseFloat(amount),
                method: method === 'mpesa' ? 'M-Pesa' : 'Orange Money',
                status: status
            });
            
            // Recharger l'historique
            loadPayments();
            
            // Réinitialiser le formulaire
            document.getElementById('payment-form').reset();
            
            // Afficher un message
            if (status === 'Payé') {
                alert(`Paiement de ${amount}€ effectué avec succès via ${method === 'mpesa' ? 'M-Pesa' : 'Orange Money'} !`);
            } else {
                alert('Le paiement a échoué. Veuillez réessayer.');
            }
        }

        function updateDashboardStats() {
            document.getElementById('services-count').textContent = myServices.length;
            document.getElementById('bookings-count').textContent = bookings.filter(b => b.status === 'Confirmée').length;
            document.getElementById('messages-count').textContent = messages.reduce((sum, msg) => sum + msg.unread, 0);
            document.getElementById('revenue-count').textContent = payments
                .filter(p => p.status === 'Payé')
                .reduce((sum, p) => sum + p.amount, 0) + '€';
        }

        function updateProfile() {
            const name = document.getElementById('profile-name').value;
            const email = document.getElementById('profile-email').value;
            const phone = document.getElementById('profile-phone').value;
            const address = document.getElementById('profile-address').value;
            
            // Mettre à jour l'interface utilisateur
            document.querySelector('.user-name').textContent = name;
            document.querySelector('.user-avatar').textContent = name.split(' ').map(n => n[0]).join('');
            
            alert('Profil mis à jour avec succès !');
        }

        function changePassword() {
            const currentPassword = document.getElementById('current-password').value;
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            
            if (!currentPassword || !newPassword || !confirmPassword) {
                alert('Veuillez remplir tous les champs');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                alert('Les mots de passe ne correspondent pas');
                return;
            }
            
            // Réinitialiser le formulaire
            document.getElementById('security-form').reset();
            
            alert('Mot de passe changé avec succès !');
        }

        function authenticateUser() {
            const phone = document.getElementById('auth-phone').value;
            const password = document.getElementById('auth-password').value;
            
            if (!phone) {
                alert('Veuillez entrer votre numéro de téléphone');
                return;
            }
            
            // Simuler une authentification
            isLoggedIn = true;
            
            // Masquer la modale
            document.getElementById('auth-modal').classList.add('hidden');
            
            alert('Connexion réussie ! Bienvenue sur StripConnect.');
        }

        function performSearch() {
            const query = document.querySelector('.search-bar input').value.toLowerCase();
            
            if (!query.trim()) {
                loadServices();
                return;
            }
            
            // Filtrer les services
            const filteredServices = services.filter(service => 
                service.title.toLowerCase().includes(query) || 
                service.description.toLowerCase().includes(query) ||
                service.category.toLowerCase().includes(query) ||
                service.provider.toLowerCase().includes(query)
            );
            
            // Afficher les résultats
            const container = document.getElementById('services-container');
            container.innerHTML = '';
            
            if (filteredServices.length === 0) {
                container.innerHTML = '<div class="alert">Aucun service trouvé pour votre recherche.</div>';
                return;
            }
            
            filteredServices.forEach(service => {
                const serviceCard = document.createElement('div');
                serviceCard.className = 'service-card';
                serviceCard.innerHTML = `
                    <div class="service-img">
                        <i class="fas ${getServiceIcon(service.category)}"></i>
                    </div>
                    <div class="service-info">
                        <h3>${service.title}</h3>
                        <p>${service.description}</p>
                        <span class="service-price">${service.price}€/h</span>
                        <p><i class="fas fa-user"></i> ${service.provider}</p>
                        <button class="btn btn-accent" onclick="bookService(${service.id})">Réserver</button>
                    </div>
                `;
                container.appendChild(serviceCard);
            });
        }

        // Fonctions utilitaires
        function getServiceIcon(category) {
            const icons = {
                'enseignement': 'fa-graduation-cap',
                'reparation': 'fa-tools',
                'menage': 'fa-broom',
                'jardinage': 'fa-leaf',
                'informatique': 'fa-laptop-code',
                'sante': 'fa-heart'
            };
            return icons[category] || 'fa-handshake';
        }

        function getStatusClass(status) {
            const classes = {
                'Confirmée': 'status-confirmed',
                'En attente': 'status-pending',
                'Annulée': 'status-cancelled',
                'Payé': 'status-confirmed',
                'Échoué': 'status-cancelled'
            };
            return classes[status] || '';
        }

        // Fonctions pour les boutons d'action
        function bookService(serviceId) {
            const service = services.find(s => s.id === serviceId);
            if (service) {
                alert(`Réservation du service "${service.title}" effectuée !`);
                
                // Ajouter une réservation
                const bookingId = bookings.length > 0 ? Math.max(...bookings.map(b => b.id)) + 1 : 1;
                bookings.unshift({
                    id: bookingId,
                    service: service.title,
                    client: "Nouveau Client",
                    date: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
                    time: "14:00",
                    status: "En attente"
                });
                
                // Recharger les réservations si on est sur la page
                if (currentPage === 'bookings') {
                    loadBookings();
                }
                
                // Mettre à jour le dashboard
                updateDashboardStats();
            }
        }

        function editService(serviceId) {
            const service = myServices.find(s => s.id === serviceId);
            if (service) {
                document.getElementById('service-title').value = service.title;
                document.getElementById('service-category').value = service.category;
                document.getElementById('service-price').value = service.price;
                
                // Faire défiler vers le formulaire
                switchPage('services');
                
                alert(`Prêt à modifier le service "${service.title}"`);
            }
        }

        function deleteService(serviceId) {
            if (confirm('Êtes-vous sûr de vouloir supprimer ce service ?')) {
                myServices = myServices.filter(s => s.id !== serviceId);
                loadMyServices();
                updateDashboardStats();
                alert('Service supprimé avec succès');
            }
        }

        function viewBooking(bookingId) {
            const booking = bookings.find(b => b.id === bookingId);
            if (booking) {
                alert(`Détails de la réservation #${booking.id}:\nService: ${booking.service}\nClient: ${booking.client}\nDate: ${booking.date}\nHeure: ${booking.time}\nStatut: ${booking.status}`);
            }
        }

        function confirmBooking(bookingId) {
            const booking = bookings.find(b => b.id === bookingId);
            if (booking) {
                booking.status = "Confirmée";
                loadBookings();
                alert(`Réservation #${bookingId} confirmée !`);
                updateDashboardStats();
            }
        }

        // Charger le thème sauvegardé
        const savedTheme = localStorage.getItem('stripconnect-theme');
        if (savedTheme === 'dark') {
            toggleTheme();
        }
    </script>
</body>
</html>